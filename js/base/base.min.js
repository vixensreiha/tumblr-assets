/*! Lazy Load 2.0.0-rc.2 +rhv & main javascript */
!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define([],e):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";"function"==typeof define&&define.amd&&(t=window);const e={src:"data-src",srcset:"data-srcset",selector:".lazyload",addclass:"loaded",root:null,rootMargin:"0px",threshold:0},r=function(){let t={},e=!1,o=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],o++);let n=function(o){for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e&&"[object Object]"===Object.prototype.toString.call(o[s])?t[s]=r(!0,t[s],o[s]):t[s]=o[s])};for(;o<s;o++){n(arguments[o])}return t};function o(t,o){this.settings=r(e,o||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(o.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this,r={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver((function(t){Array.prototype.forEach.call(t,(function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let r=t.target.getAttribute(e.settings.src),o=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(r&&(t.target.src=r,t.target.removeAttribute(e.settings.src)),o&&(t.target.srcset=o,t.target.removeAttribute(e.settings.srcset))):t.target.style.backgroundImage="url("+r+")",t.target.classList.add(e.settings.addclass)}}))}),r),Array.prototype.forEach.call(this.images,(function(t){e.observer.observe(t)}))},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;Array.prototype.forEach.call(this.images,(function(e){let r=e.getAttribute(t.settings.src),o=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(r&&(e.src=r,e.removeAttribute(t.settings.src)),o&&(e.srcset=o,e.removeAttribute(t.settings.srcset))):e.style.backgroundImage="url('"+r+"')",e.classList.add(t.settings.addclass)}))},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new o(t,e)},t.jQuery){const e=t.jQuery;e.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new o(e.makeArray(this),t),this}}return o})),function(t){var e,r;e={hiddenlog:"Observer V2 by Reiha",lazyimage:"lazyimage",lazyiframe:"lazyiframe",audioext:"audiowrapper",scrolly:"scrolly"},r=t.querySelectorAll("."+e.lazyimage),function(t,e,r){console&&console.log&&(e=e||"",t=t||"",r=r||{JSPlaintextAccentColor},console.log("%c "+t+" ","border-left: 5px solid "+r+"; color: #f3f6f8; background: #2a3b44; font-family: Monaco; padding: 0 2px 1px; border-radius: 3px; font-size: 20px",e))}(e.hiddenlog),lazyload(r,{rootMargin:"64px"}),function(e){var r=t.documentElement,o=t.getElementById(e);t.addEventListener("scroll",(function(){var e=r.scrollHeight-r.clientHeight;r.scrollTop/e>.5?t.body.classList.add("scrolly-show"):t.body.classList.remove("scrolly-show")})),function(t,e){e.addEventListener("click",(function(){t.scrollTo({top:0,behavior:"smooth"})}))}(r,o)}(e.scrolly),function(e){var r=t.querySelectorAll("."+e);if(r.length>0)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){var o=new IntersectionObserver((function(t,e){t.forEach((function(t){t.isIntersecting&&(e.unobserve(t.target),t.target.innerHTML=t.target.querySelector(".lazyiframe-trueVideo").innerHTML,t.target.classList.remove("lazyiframe"))}))}),{rootMargin:"64px"});r.forEach((function(t){o.observe(t)}))}else for(var s=0;s<r.length;s++)r[s].innerHTML=r[s].querySelector(".lazyiframe-trueVideo").innerHTML,r[s].classList.remove("lazyiframe")}(e.lazyiframe),function(e){for(var r=t.querySelectorAll("."+e+" iframe"),o=0,s=r.length;o<s;o++){var n=r[o].parentElement;!r[o].classList.contains("tumblr_audio_player")&&n.classList.add("audio-external")}}(e.audioext)}(document);
